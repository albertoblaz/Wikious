<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Younite</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">

    <meta http-equiv="cleartype" content="on">

    <!-- iPhone -->
    <link href="http://lungo.tapquo.com/resources/icon-57.png" sizes="57x57" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-320x460.png" media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

    <!-- iPhone (Retina) -->
    <link href="http://lungo.tapquo.com/resources/icon-114.png" sizes="114x114" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-640x920.png" media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- iPhone 5 -->
    <link href="http://lungo.tapquo.com/resources/startup-image-640x1096.png" media="(device-width: 320px) and (device-height: 568px)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- iPad -->
    <link href="http://lungo.tapquo.com/resources/icon-72.png" sizes="72x72" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-768x1004.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: portrait)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">
    <link href="http://lungo.tapquo.com/resources/startup-image-748x1024.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: landscape)
             and (-webkit-device-pixel-ratio: 1)" rel="apple-touch-startup-image">

    <!-- iPad (Retina) -->
    <link href="http://lungo.tapquo.com/resources/icon-144.png" sizes="144x144" rel="apple-touch-icon">
    <link href="http://lungo.tapquo.com/resources/startup-image-1536x2008.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: portrait)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
    <link href="http://lungo.tapquo.com/resources/startup-image-1496x2048.png" media="(device-width: 768px) and (device-height: 1024px)
             and (orientation: landscape)
             and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">

    <!-- Lungo - Stylesheets -->
    <link rel="stylesheet" href="components/lungo/lungo.css">
    <link rel="stylesheet" href="components/lungo/lungo.icon.css">
    <link rel="stylesheet" href="components/lungo/lungo.icon.brand.css">
    <link rel="stylesheet" href="components/lungo/theme.lungo.css" id="theme-stylesheet">

    <!-- App Stylesheet -->
    <!-- <link rel="stylesheet" href="styles.css"> -->

</head>


<body class="app">

    <section id="main">

        <article class="indented splash active violet">
            <img src="assets/images/logo_splash.png">

            <form class="rounded">
                <input type="text"     placeholder="Your username" id="login-name"     value="">
                <input type="password" placeholder="Your password" id="login-password" value="">

                <a href="#posts" data-router="section" class="button big" data-icon="">Login</a>
                <a href="#posts" data-router="section" class="button big" data-icon="">Sign up</a>
            </form>
        </article>

    </section>


    <!-- Lungo - Dependencies -->
    <script src="components/quojs/quo.js"></script>
    <script src="components/lungo/lungo.js"></script>

    <!-- Lungo - Sandbox App -->
    <script type="text/javascript">
        Lungo.init({
            name      : 'Younite',
            version   : '0.3',
            resources : [
                            'assets/views/tops.html',
                            'assets/views/posts.html',
                            'assets/views/post.html'
                        ]
        });
    </script>

	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <script src="app/models/Blog.js"></script>
    <script src="app/models/Comment.js"></script>
    <script src="app/models/User.js"></script>

    <script src="app/models/Entry.js"></script>
    <script src="app/views/EntryView.js"></script>
	<script src="app/controllers/EntryController.js"></script>


	<script type="text/javascript">
		$(document).ready(function() {
			var controlers  = [];
			var indice;
		    var ec = new EntryController();
			var entry = ec.model;
			var ev = ec.view;
			entry.update("titulo","contenido","tags");
			ev.notify();
			ev.notify();
			$("#entries").append(ev.el);

			var ec2 = new EntryController();
			var entry2 = ec2.model;
			var ev2 = ec2.view;
			entry2.update("otro","mas","tags");
			ev2.notify();
			ev2.notify();
			$("#entries").append(ev2.el);
			controlers.push(ec);
			controlers.push(ec2);

            function remove() {
                /*
                controlers[indice].model = null;
                controlers[indice].view.remove();
                controlers[indice].pop();
                */
                var c = controlers[indice];
                c.remove();
                controlers.pop(c);
                console.log(indice);
            }

            $('#remove').click(remove);

			$("#add").click(function() {
				indice = controlers.length;
                console.log(indice);
                var ec = new EntryController();
                controlers.push(ec);
				controlers[indice].model.update("Draft", "draft content", "draft tags");
				controlers[indice].view.notify();
				controlers[indice].view.notify();
				$("#entries").append(controlers[indice].view.el);
				$('#title').val('');
                $('#content').val('');




			});

			$(".arrow.selectable").click(function() {
				indice=$(this).index();
                console.log(controlers);
                console.log(indice);
				$('#title').val(controlers[indice].model.title);
                $('#content').val(controlers[indice].model.content);
			});

			$("#acceptEntry").click(function() {
				controlers[indice].update($("#entry"));
				controlers[indice].view.notify();

			});

		});


	</script>


</body>

</html>
